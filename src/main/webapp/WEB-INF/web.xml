<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
         version="3.1">

  <jsp-config>
    <jsp-property-group>
      <url-pattern>*.jsp</url-pattern>
      <page-encoding>UTF-8</page-encoding>
    </jsp-property-group>
  </jsp-config>

  <servlet-mapping>
    <servlet-name>login</servlet-name>
    <url-pattern></url-pattern>
  </servlet-mapping>

  <!-- Servlets -->
  <servlet>
    <servlet-name>register</servlet-name>
    <servlet-class>com.artmal.controller.RegistrationServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>register</servlet-name>
    <url-pattern>/register</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>loginServlet</servlet-name>
    <servlet-class>com.artmal.controller.LoginServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>loginServlet</servlet-name>
    <url-pattern>/loginServlet</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard_driversPageServlet</servlet-name>
    <servlet-class>com.artmal.controller.adminDashboard.DriversPageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard_driversPageServlet</servlet-name>
    <url-pattern>/admin-dashboard/drivers</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>logoutServlet</servlet-name>
    <servlet-class>com.artmal.controller.LogoutServlet</servlet-class>
  </servlet>

  <servlet-mapping>
  <servlet-name>logoutServlet</servlet-name>
  <url-pattern>/logout</url-pattern>
</servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard_dispatcherServlet</servlet-name>
    <servlet-class>com.artmal.controller.adminDashboard.DispatchersPageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard_dispatcherServlet</servlet-name>
    <url-pattern>/admin-dashboard/dispatchers</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard_tripsServlet</servlet-name>
    <servlet-class>com.artmal.controller.adminDashboard.TripsPageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard_tripsServlet</servlet-name>
    <url-pattern>/admin-dashboard/trips</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>myProfilePageServlet</servlet-name>
    <servlet-class>com.artmal.controller.MyProfilePageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>dispatcherDashboard_tripsServlet</servlet-name>
    <url-pattern>/dispatcher-dashboard/trips</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>dispatcherDashboard_tripsServlet</servlet-name>
    <servlet-class>com.artmal.controller.dispatcherDashboard.TripsPageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>myProfilePageServlet</servlet-name>
    <url-pattern>/my-profile</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>driverDashboard_garage</servlet-name>
    <servlet-class>com.artmal.controller.driverDashboard.GaragePageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>driverDashboard_garage</servlet-name>
    <url-pattern>/driver-dashboard/garage</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard_cars</servlet-name>
    <servlet-class>com.artmal.controller.adminDashboard.CarsPageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard_cars</servlet-name>
    <url-pattern>/admin-dashboard/cars</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard_profilesServlet</servlet-name>
    <servlet-class>com.artmal.controller.adminDashboard.ProfilesViewServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard_profilesServlet</servlet-name>
    <url-pattern>/admin-dashboard/drivers/profile</url-pattern>
    <url-pattern>/admin-dashboard/dispatchers/profile</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>driverDashboard_tripsPageServlet</servlet-name>
    <servlet-class>com.artmal.controller.driverDashboard.TripsPageServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>driverDashboard_tripsPageServlet</servlet-name>
    <url-pattern>/driver-dashboard/trips</url-pattern>
  </servlet-mapping>

  <!-- JSP -->
  <servlet>
    <servlet-name>login</servlet-name>
    <jsp-file>/WEB-INF/views/login.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>login</servlet-name>
    <url-pattern>/login</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>registration</servlet-name>
    <jsp-file>/WEB-INF/views/registration.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>registration</servlet-name>
    <url-pattern>/registration</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard</servlet-name>
    <jsp-file>/WEB-INF/views/admin_dashboard/adminDashboard.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard</servlet-name>
    <url-pattern>/admin-dashboard</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>profilePage</servlet-name>
    <jsp-file>/WEB-INF/views/profile.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>profilePage</servlet-name>
    <url-pattern>/profile</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminDashboard-users</servlet-name>
    <jsp-file>/WEB-INF/views/admin_dashboard/usersView.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>adminDashboard-users</servlet-name>
    <url-pattern>/admin-dashboard/user</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>dispatcherDashboard</servlet-name>
    <jsp-file>/WEB-INF/views/dispatcher_dashboard/dispatcherDashboard.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>dispatcherDashboard</servlet-name>
    <url-pattern>/dispatcher-dashboard</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>driverDashboard</servlet-name>
    <jsp-file>/WEB-INF/views/driver_dashboard/driverDashboard.jsp</jsp-file>
  </servlet>

  <servlet-mapping>
    <servlet-name>driverDashboard</servlet-name>
    <url-pattern>/driver-dashboard</url-pattern>
  </servlet-mapping>

  <!-- Filters -->
  <filter>
    <filter-name>alreadyLoggedInFilter</filter-name>
    <filter-class>com.artmal.filter.AlreadyLoggedInFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>alreadyLoggedInFilter</filter-name>
    <url-pattern>/login</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>adminFilter</filter-name>
    <filter-class>com.artmal.filter.AdminFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>adminFilter</filter-name>
    <url-pattern>/admin-dashboard/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>dispatcherFilter</filter-name>
    <filter-class>com.artmal.filter.DispatcherFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>dispatcherFilter</filter-name>
    <url-pattern>/dispatcher-dashboard/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>driverFilter</filter-name>
    <filter-class>com.artmal.filter.DriverFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>driverFilter</filter-name>
    <url-pattern>/driver-dashboard/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>characterSetFilter</filter-name>
    <filter-class>com.artmal.filter.CharacterFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>characterSetFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <resource-ref>
    <description>DB Connection</description>
    <res-ref-name>jdbc/TestDB</res-ref-name>
    <res-type>javax.sql.DataSource</res-type>
    <res-auth>Container</res-auth>
  </resource-ref>
</web-app>